plugins {
    id "com.github.node-gradle.node" version "7.1.0"
}

apply from: 'javaproject.gradle'
apply from: 'repository.gradle'


dependencies {

    api files("../../../../../../../imaging/1/as/services/imaging/lib/openBIS-imaging-technology.jar"),
            project(':api-openbis-java'),
            project(':server-original-data-store')

    implementation 'fasterxml:jackson-annotations:2.9.10',
            'fasterxml:jackson-core:2.9.10',
            'fasterxml:jackson-databind:2.9.10.8',
            'fasterxml:jackson-datatype-jsr310:2.9.10'

    testImplementation 'junit:junit:4.10',
            'testng:testng:6.8-CISD'

    testRuntimeOnly 'hamcrest:hamcrest-core:1.3'

}

sourceSets {
    main {
        resources {
            srcDirs = ['source/java/*']
        }
    }
    test {
        resources {
            srcDirs = ['sourceTest/java']
        }
    }
}


def premiseAdaptersName = 'premise-adapters.jar'
jar {
    dependsOn compileJava
    archiveFileName = premiseAdaptersName
    includeEmptyDirs false
}


tasks.register('premiseAdaptersJar', Copy) {
    dependsOn jar
    from("${project.buildDir}/libs/${premiseAdaptersName}")
    into ".."
}








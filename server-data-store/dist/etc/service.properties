logFactoryClass=ch.ethz.sis.shared.log.log4j2.Log4J2LogFactory
logConfigFile=./etc/log.xml
serverObserver=ch.ethz.sis.afsserver.server.observer.impl.OpenBISServerObserver

jsonObjectMapperClass=ch.ethz.sis.afsjson.jackson.JacksonObjectMapper
# Where all the transactions information is written until the prepare step
# For performance reasons should be on the save volume as the configured storage
writeAheadLogRoot=$DSS_ROOT_DIR/transactions
storageRoot=$DSS_ROOT_DIR/store
storageUuid=
storageIncomingShareId=1

httpServerClass=ch.ethz.sis.afsserver.http.impl.NettyHttpServer
httpServerUri=/afs-server
httpServerPort=8085

# 1 MiB of Base64 URL encoded data, 1 kiB of other data and 10% safety margin
httpMaxContentLength=1540165

maxReadSizeInBytes=1048576
authenticationInfoProviderClass=ch.ethz.sis.afsserver.worker.providers.impl.OpenBISAuthenticationInfoProvider
authenticationProxyCacheIdleTimeout=10000
authorizationInfoProviderClass=ch.ethz.sis.afsserver.worker.providers.impl.OpenBISAuthorizationInfoProvider
authorizationProxyCacheIdleTimeout=10000
poolSize=50
connectionFactoryClass=ch.ethz.sis.afsserver.worker.ConnectionFactory
workerFactoryClass=ch.ethz.sis.afsserver.worker.WorkerFactory
publicApiInterface=ch.ethz.sis.afsapi.api.PublicAPI
apiServerInteractiveSessionKey=
apiServerTransactionManagerKey=
apiServerObserver=ch.ethz.sis.afsserver.server.observer.impl.OpenBISAPIServerObserver
apiServerWorkerTimeout=3600000

lockingTimeoutInSeconds=5
lockingWaitingIntervalInMillis=100

openBISUrl=https://$HOSTNAME:8443
openBISTimeout=30000
openBISUser=afsserver
openBISPassword=
openBISLastSeenDeletionFile=./last-seen-deletion
openBISLastSeenDeletionBatchSize=1000
openBISLastSeenDeletionIntervalInSeconds=900

# maintenance-plugins = pathInfoFeedingTask, shufflingTask

# pathInfoFeedingTask.class = ch.ethz.sis.afsserver.server.pathinfo.PathInfoDatabaseFeedingTask
# pathInfoFeedingTask.interval = 3600
#
# pathInfoDB.versionHolderClass=ch.ethz.sis.afsserver.server.pathinfo.PathInfoDatabaseVersionHolder
# pathInfoDB.databaseEngineCode=postgresql
# pathInfoDB.basicDatabaseName=pathinfo
# pathInfoDB.databaseKind=prod
# pathInfoDB.scriptFolder=afs-server/sql/pathinfo
#
# shuffling-task.class = ch.ethz.sis.afsserver.server.shuffling.SegmentedStoreShufflingTask
# shuffling-task.interval = 3600
#
# shuffling.class = ch.ethz.sis.afsserver.server.shuffling.SimpleShuffling
# shuffling.share-finder.class = ch.ethz.sis.afsserver.server.shuffling.SimpleShareFinder
# shuffling.verify-checksum = true
